<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../Autocoders/Python/schema/default/interface_schema.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>

<interface name="I2cWriteRead" namespace="Drv">
    <import_serializable_type>Fw/Buffer/BufferSerializableAi.xml</import_serializable_type>
    <args>
        <arg name="slaveAddress" type="U8">
            <comment>I2C slave address of the device</comment>
        </arg>
        <arg name="writeBuffer" type="Fw::Buffer" pass_by="reference">
            <comment>Buffer containing write data</comment>
        </arg>
        <arg name="readBuffer" type="Fw::Buffer" pass_by="reference">
           <comment>Buffer containing data</comment>
        </arg>
    </args>
    <return type="ENUM" pass_by="value">
       <enum name="I2cStatus">
            <item name="I2C_OK" comment="Transaction okay"/>
            <item name="I2C_START_TIMEOUT_ERR" comment="Could not gain control of I2C bus as master, start condition timed out (and bus may be locked up)"/>
            <item name="I2C_START_ERR" comment="Could not gain control of I2C bus as master"/>
            <item name="I2C_ADDRESS_ERR" comment="I2C address invalid or device not responding"/>
            <item name="I2C_WRITE_ERR" comment="I2C write failed"/>
            <item name="I2C_READ_ERR" comment="I2C read failed"/>
            <item name="I2C_OTHER_ERR" comment="Other errors that don't fit"/>
       </enum>
   </return>
</interface>
